#pragma checksum "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "0009e9e4e608b37a40939c91407d980686ee6dfd"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Supplier_index), @"mvc.1.0.view", @"/Views/Supplier/index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\RohitGit\Shopper\Supplier\Views\_ViewImports.cshtml"
using Supplier;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\RohitGit\Shopper\Supplier\Views\_ViewImports.cshtml"
using Supplier.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"0009e9e4e608b37a40939c91407d980686ee6dfd", @"/Views/Supplier/index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"47fd70e81a9975605f7808c5a6d1ae49a972d3e9", @"/Views/_ViewImports.cshtml")]
    public class Views_Supplier_index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<Entities.ActiveOrder>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\n<script src=\"https://code.jquery.com/jquery-3.4.1.min.js\" crossorigin=\"anonymous\"></script>\n<script");
            BeginWriteAttribute("src", " src=\"", 141, "\"", 222, 2);
            WriteAttributeValue("", 147, "https://cdn.jsdelivr.net/npm/", 147, 29, true);
            WriteLiteral("@");
            WriteAttributeValue("", 178, "aspnet/signalr@1.1.2/dist/browser/signalr.js", 178, 44, true);
            EndWriteAttribute();
            WriteLiteral("></script>\n\n<h1>Buyer Open Orders</h1>\n<input type=\"button\" id=\"btnFetch\" value=\"Fetch New Orders\"  /> \n<p>\n\n</p>\n<table class=\"table\">\n    <thead>\n        <tr>\n            <th>\n                ");
#nullable restore
#line 15 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
           Write(Html.DisplayNameFor(model => model.BuyerName));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            </th>\n            <th>\n                ");
#nullable restore
#line 18 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
           Write(Html.DisplayNameFor(model => model.ItemName));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            </th>\n            <th>\n                ");
#nullable restore
#line 21 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
           Write(Html.DisplayNameFor(model => model.Quantity));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            </th>\n            <th>\n                ");
#nullable restore
#line 24 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
           Write(Html.DisplayNameFor(model => model.Status));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n            </th>\n            <th></th>\n        </tr>\n    </thead>\n    <tbody>\n");
#nullable restore
#line 30 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
         foreach (var item in Model)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("<tr>\n    <td>\n        ");
#nullable restore
#line 34 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
   Write(Html.DisplayFor(modelItem => item.BuyerName));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n    </td>\n    <td>\n        ");
#nullable restore
#line 37 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
   Write(Html.DisplayFor(modelItem => item.ItemName));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n    </td>\n    <td>\n        ");
#nullable restore
#line 40 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
   Write(Html.DisplayFor(modelItem => item.Quantity));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n    </td>\n    <td>\n        ");
#nullable restore
#line 43 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
   Write(Html.DisplayFor(modelItem => item.Status));

#line default
#line hidden
#nullable disable
            WriteLiteral("\n    </td>\n    <td>\n        <input type=\"button\" id=\"btnAccept\" value=\"Accept\"");
            BeginWriteAttribute("orderId", " orderId=\"", 1238, "\"", 1261, 1);
#nullable restore
#line 46 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
WriteAttributeValue("", 1248, item.OrderId, 1248, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\n        <input type=\"button\" id=\"btnReject\" value=\"Reject\"");
            BeginWriteAttribute("orderId", " orderId=\"", 1324, "\"", 1347, 1);
#nullable restore
#line 47 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
WriteAttributeValue("", 1334, item.OrderId, 1334, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\n    </td>\n</tr>");
#nullable restore
#line 49 "D:\RohitGit\Shopper\Supplier\Views\Supplier\index.cshtml"
     }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    </tbody>
</table>


<script>$(document).ready(function ()
    {
        var signalRHubConnection = new signalR.HubConnectionBuilder()
            .withUrl(""https://processorderfunctionappdemo.azurewebsites.net/api"")
            .configureLogging(signalR.LogLevel.Information)
            .build();

         signalRHubConnection.start().then(function () {
            console.log(""Signal R Connection Established Successfully"");
        });

        signalRHubConnection.on('newOrderSubmitted', function (orderDetails) {

            alert(orderDetails.BuyerName + "", Has submitted an order for item: "" + orderDetails.ItemName + "". Kidnly Click on 'Fecth New Orders' !"");

        });

        
        
        $(""#btnRefresh"").click(function () {
            window.location.href = window.location.href;        
            });

        $(""#btnAccept"").click(function () {
            var id = $(this).attr(""orderId"");
            UpdateOrderStatus(id, 'Approved');
        });

        $(""#btnReject"").click(function ");
            WriteLiteral(@"() {
            var id = $(this).attr(""orderId"");
            UpdateOrderStatus(id, 2);
        });

        function UpdateOrderStatus(id, status) {
            $.ajax({
                url: ""Supplier/SupplierResponse?orderId="" + id + ""&status="" + status,
                
                success: function (html) {
                    alert(""Notification triggered to the buyer."");
                    window.location.href = window.location.href;  
                }
            });
    }


    })</script>



");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<Entities.ActiveOrder>> Html { get; private set; }
    }
}
#pragma warning restore 1591
